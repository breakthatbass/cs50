{% extends "layout.html" %}

{% block main %}

    <!-- http://getbootstrap.com/docs/4.1/content/typography/ -->
    <h1 class="mb-3">Form</h1>

    <!-- http://getbootstrap.com/docs/4.1/components/forms/ -->
    <form action="/form" method="post">
        <div class="form-group">
            <input type="text" id="name-field" autocomplete="off" name="name" placeholder="Name" >
        </div>
        <div class="form-group">
            <select class="form-control" id="menu" name="food">
                <option disabled selected value>Favorite Food</option>
                <option value="turkey">Turkey</option>
                <option value="candy">Candy</option>
                <option value="ham">Ham</option>
                <option value="apple-pie">Apple Pie</option>
            </select>
        </div>
        <div class="form-group">
        <h5>Favorite Holday</h5>
        <div class="form-check">
            <input type="radio" id="Christmas" value="Christmas" name="holiday" class="form-check-input">
            <label class="form-check-label" for="Christmas">Christmas</label>
        </div>
        <div class="form-check">
            <input type="radio" id="Halloween" value="Halloween" name="holiday" class="form-check-input">
            <label class="form-check-label" for="Halloween">Halloween</label>
        </div>
        <div class="form-check">
            <input type="radio" id="Easter" value="Easter" name="holiday" class="form-check-input">
            <label class="form-check-label" for="Easter">Easter</label>
        </div>
        <div class="form-check">
            <input type="radio" id="Thanksgiving" value="Thanksgiving" name="holiday" class="form-check-input">
            <label class="form-check-label" for="Thanksgiving">Thanksgiving</label>
        </div>
        </div>


        
        <!-- TODO -->


        <!-- http://getbootstrap.com/docs/4.1/components/buttons/ -->
        <button class="btn btn-primary" type="submit" onClick="checkFields()" >Submit</button>

    </form>

    <script>
        function checkFields(){
           // get data from input fields to then check if any are empty
            var name_field = document.getElementById("name-field").value;
            var menu = document.getElementById("menu").value;

            // check radio
            var sList = "";
            $('input[type=radio]').each(function () {
            var sThisVal = (this.checked ? "1" : "0");
            sList += (sList=="" ? sThisVal : "," + sThisVal);
            });
            //

            if (name_field == null || menu == null || sList == "0,0,0,0"){
                alert("Please fill out each input field");
                // below prevents automatically going to next page if any field is null
                event.preventDefault();
                window.history.back();
            }
        }
        

    </script>

{% endblock %}
